<!DOCTYPE html>
<html lang="en" class="sr">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="shortcut icon" type="image/png" href="./assets/favicon.png" />

    <title>Articles Gallery</title>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link rel="stylesheet" href="styles.scss" />
    <script
      defer
      src="https://unpkg.com/scrollreveal@4.0.0/dist/scrollreveal.min.js"
    ></script>
  </head>
  <body>
    <!-- **** Articles Gallery Section **** -->
    <section id="articles-gallery">
      <div class="container">
        <h2 class="section-title dark-blue-text">Articles Gallery</h2>
        <div class="gallery-grid" id="gallery-container">
          <!-- Articles will be injected here -->
        </div>
        <div class="back-button">
          <a href="index.html" class="cta-btn cta-btn--hero">
            <i class="fa fa-arrow-left"></i> Back to Portfolio
          </a>
        </div>
      </div>
    </section>

    <script type="module">
      import { renderArticles } from "./data/articles.js";
      renderArticles("#gallery-container");

      // Show overlay on mobile when scrolling into view
      if (window.innerWidth <= 768) {
        const observer = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            const overlay = entry.target.querySelector('.article-overlay');
            if (overlay) {
              if (entry.isIntersecting) {
                overlay.style.opacity = '1';
              } else {
                overlay.style.opacity = '0';
              }
            }
          });
        }, {
          threshold: 0.5 // Show overlay when 50% of card is visible
        });

        // Observe all article cards
        setTimeout(() => {
          document.querySelectorAll('.article-card').forEach(card => {
            observer.observe(card);
          });
        }, 100);
      }
    </script>
  </body>
</html>
