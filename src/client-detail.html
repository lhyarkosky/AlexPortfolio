<!DOCTYPE html>
<html lang="en" class="sr">
  <head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <link rel="shortcut icon" type="image/png" href="./assets/favicon.png" />

    <title>Client Portfolio Detail</title>

    <!-- Instagram Embed Script -->
    <script async src="//www.instagram.com/embed.js"></script>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css"
    />
    <link rel="stylesheet" href="styles.scss" />
    <script
      defer
      src="https://unpkg.com/scrollreveal@4.0.0/dist/scrollreveal.min.js"
    ></script>
  </head>
  <body>
    <!-- **** Client Detail Section **** -->
    <section id="client-detail">
      <div class="container">
        <!-- Navigation -->
        <div class="client-nav">
          <a href="socialmediagallery.html" class="back-link">
            <i class="fa fa-arrow-left"></i> Back to Marketing Portfolio
          </a>
        </div>

        <!-- Client Header -->
        <div id="client-header" class="client-header">
          <!-- Dynamically populated -->
        </div>

        <!-- Client Work Portfolio -->
        <div class="client-portfolio">
          <h3>My Work</h3>
          <div class="portfolio-carousel-container">
            <div class="portfolio-carousel" id="portfolio-carousel">
              <div class="portfolio-track" id="portfolio-track">
                <!-- Dynamically populated -->
              </div>
            </div>
            <div class="carousel-controls">
              <button class="carousel-btn prev-btn" id="prev-btn">
                <i class="fa fa-chevron-left"></i>
              </button>
              <div class="carousel-indicators" id="carousel-indicators">
                <!-- Dynamically populated -->
              </div>
              <button class="carousel-btn next-btn" id="next-btn">
                <i class="fa fa-chevron-right"></i>
              </button>
            </div>
          </div>
        </div>

        <!-- Client Results & Testimonial -->
        <div id="client-results" class="client-results">
          <!-- Dynamically populated -->
        </div>
      </div>
    </section>



    <style>
      .client-nav {
        margin-bottom: 2rem;
      }
      
      .back-link {
        color: #333;
        text-decoration: none;
        font-weight: 500;
        transition: color 0.3s ease;
      }
      
      .back-link:hover {
        color: #007bff;
      }
      
      .client-header {
        margin-bottom: 4rem;
      }

      .client-header-wrapper {
        display: grid;
        grid-template-columns: 1fr 250px;
        gap: 3rem;
        align-items: start;
        max-width: 1700px;
        margin: 0 auto;
      }
      
      .client-header-main {
        padding: 3rem;
        background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
        border-radius: 15px;
        min-height: 540px;
        display: flex;
        flex-direction: column;
        justify-content: space-between;
      }
      
      .client-header-content {
        max-width: 900px;
        margin: 0 auto;
      }
      
      .client-logo-section {
        text-align: left;
        display: flex;
        flex-direction: column;
        justify-content: flex-start;
      }
      
      .client-logo-large {
        width: 120px;
        height: 120px;
        margin: 0 0 2rem 0;
        border-radius: 50%;
        overflow: hidden;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
      }
      
      .client-logo-large img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
      
      .client-placeholder-large {
        width: 120px;
        height: 120px;
        border-radius: 50%;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 3rem;
        font-weight: bold;
        color: white;
        margin: 0 0 2rem 0;
      }
      
      .client-grid-picture {
        width: 250px;
        height: 540px;
        border-radius: 30px;
        overflow: hidden;
        box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        border: 12px solid #1a1a1a;
        position: relative;
        flex-shrink: 0;
      }
      
      .client-grid-picture::before {
        content: '';
        position: absolute;
        top: 0;
        left: 50%;
        transform: translateX(-50%);
        width: 100px;
        height: 25px;
        background: #1a1a1a;
        border-radius: 0 0 15px 15px;
        z-index: 2;
      }
      
      .client-grid-picture img {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }
      
      .client-name {
        font-size: 2.5rem;
        font-weight: bold;
        color: #333;
        margin-bottom: 1rem;
      }
      
      .client-description {
        font-size: 1.2rem;
        color: #666;
        max-width: 600px;
        margin: 0 auto 2rem;
        line-height: 1.6;
      }
      
      .client-meta {
        display: flex;
        justify-content: center;
        gap: 2rem;
        flex-wrap: wrap;
        margin-bottom: 2rem;
      }
      
      .meta-item {
        text-align: center;
      }
      
      .meta-label {
        font-weight: bold;
        color: #333;
        display: block;
        margin-bottom: 0.5rem;
      }
      
      .meta-value {
        color: #666;
      }
      
      .services-list {
        display: flex;
        justify-content: center;
        flex-wrap: wrap;
        gap: 0.75rem;
      }
      
      .service-badge {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 0.5rem 1rem;
        border-radius: 25px;
        font-weight: 500;
        font-size: 0.9rem;
      }
      
      .client-portfolio {
        margin-bottom: 4rem;
      }
      
      .client-portfolio h3 {
        text-align: center;
        font-size: 2rem;
        color: #333;
        margin-bottom: 2rem;
      }
      
      .portfolio-carousel-container {
        position: relative;
        max-width: 1700px;
        margin: 0 auto;
        pointer-events: none;
      }
      
      .portfolio-carousel-container > * {
        pointer-events: auto;
      }
      
      .portfolio-carousel {
        overflow: hidden;
        border-radius: 15px;
        position: relative;
        padding-bottom: 100px;
        margin-bottom: -100px;
        padding-left: 200px;
        padding-right: 200px;
        margin-left: -200px;
        margin-right: -200px;
      }
      
      .portfolio-track {
        display: flex;
        transition: transform 0.5s ease;
        gap: 1.5rem;
        width: fit-content;
        padding-right: 2rem;
        overflow: visible;
      }
      
      .portfolio-item-link {
        text-decoration: none;
        color: inherit;
        display: block;
      }
      
      .portfolio-item {
        flex: 0 0 400px;
        width: 400px;
        min-height: 500px;
        height: auto;
        background: white;
        border-radius: 12px;
        overflow: hidden;
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        transition: transform 0.4s ease, box-shadow 0.4s ease, min-height 0.3s ease, z-index 0s 0.4s;
        cursor: pointer;
        display: flex;
        flex-direction: column;
        position: relative;
        z-index: 1;
      }
      
      .portfolio-item.expanded {
        min-height: auto;
      }
      
      .portfolio-item:hover {
        transform: scale(1.15);
        box-shadow: 0 12px 35px rgba(0, 0, 0, 0.25);
        z-index: 100;
        transition: transform 0.4s ease, box-shadow 0.4s ease, min-height 0.3s ease, z-index 0s;
        overflow: visible;
      }
      

      .carousel-controls {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-top: 2rem;
        max-width: 400px;
        margin-left: auto;
        margin-right: auto;
        position: relative;
        z-index: 1000;
        pointer-events: auto;
      }
      
      .carousel-btn {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        width: 50px;
        height: 50px;
        border-radius: 50%;
        cursor: pointer;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.2rem;
        transition: transform 0.3s ease, box-shadow 0.3s ease;
        position: relative;
        z-index: 1001;
        pointer-events: auto;
      }
      
      .carousel-btn:hover {
        transform: scale(1.1);
        box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      }
      
      .carousel-btn:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        transform: none;
      }
      
      .carousel-indicators {
        display: flex;
        gap: 0.5rem;
        flex: 1;
        justify-content: center;
        margin: 0 1rem;
        position: relative;
        z-index: 1001;
        pointer-events: auto;
      }
      
      .indicator {
        width: 12px;
        height: 12px;
        border-radius: 50%;
        background: #ddd;
        cursor: pointer;
        transition: background 0.3s ease;
      }
      
      .indicator.active {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      }
      
      .portfolio-image {
        height: 350px;
        flex-shrink: 0;
        overflow: hidden;
      }
      
      .portfolio-image img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: transform 0.3s ease;
      }
      
      .portfolio-item:hover .portfolio-image img {
        transform: scale(1.05);
      }
      
      .portfolio-info {
        padding: 1.5rem;
        padding-bottom: 3.5rem;
        min-height: 150px;
        height: auto;
        overflow: visible;
        flex-shrink: 0;
        position: relative;
      }
      
      .portfolio-item:not(.expanded) .portfolio-info {
        height: 150px;
        overflow: hidden;
      }
      
      .portfolio-item.expanded .portfolio-info {
        padding-bottom: 1.5rem;
      }
      
      .portfolio-title {
        font-size: 1.3rem;
        font-weight: bold;
        color: #333;
        margin-bottom: 0.5rem;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }
      
      .portfolio-description {
        color: #666;
        line-height: 1.5;
        position: relative;
      }
      
      .portfolio-item:not(.expanded) .portfolio-description {
        overflow: hidden;
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
      }
      
      .portfolio-item.expanded .portfolio-description {
        display: block;
      }
      
      .expand-text-btn {
        position: absolute;
        bottom: 1rem;
        left: 1.5rem;
        background: rgba(102, 126, 234, 0.1);
        color: #667eea;
        border: 1px solid #667eea;
        padding: 0.4rem 0.8rem;
        border-radius: 15px;
        cursor: pointer;
        font-weight: 600;
        font-size: 0.85rem;
        display: none;
        align-items: center;
        gap: 0.3rem;
        user-select: none;
        z-index: 10;
        transition: all 0.2s ease;
      }
      
      .portfolio-item:not(.expanded) .expand-text-btn {
        display: inline-flex;
      }
      
      .expand-text-btn:hover {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border-color: #764ba2;
        transform: translateY(-1px);
        box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
      }
      
      .collapse-text-btn {
        position: absolute;
        bottom: 1rem;
        right: 1.5rem;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        border: none;
        width: 32px;
        height: 32px;
        border-radius: 50%;
        cursor: pointer;
        display: none;
        align-items: center;
        justify-content: center;
        font-size: 1rem;
        box-shadow: 0 2px 8px rgba(102, 126, 234, 0.3);
        transition: transform 0.2s ease, box-shadow 0.2s ease;
        z-index: 10;
      }
      
      .portfolio-item.expanded .collapse-text-btn {
        display: flex;
      }
      
      .collapse-text-btn:hover {
        transform: scale(1.1);
        box-shadow: 0 4px 12px rgba(102, 126, 234, 0.5);
      }

      /* Link Preview Styles */
      .portfolio-preview {
        height: 350px;
        flex-shrink: 0;
        border-radius: 10px;
        overflow: hidden;
        position: relative;
        background: #fff;
        border: 1px solid #e9ecef;
      }

      .preview-overlay {
        position: absolute;
        top: 10px;
        right: 10px;
        background: rgba(102, 126, 234, 0.9);
        color: white;
        width: 30px;
        height: 30px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 0.8rem;
        opacity: 0;
        transition: opacity 0.3s ease;
        z-index: 10;
      }

      .portfolio-item:hover .preview-overlay {
        opacity: 1;
      }

      /* Instagram Embed Styles */
      .instagram-embed-container {
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #fafafa;
        padding: 0.5rem;
      }

      .instagram-post {
        background: white;
        border-radius: 8px;
        width: 100%;
        max-width: 280px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.1);
        overflow: hidden;
      }

      .instagram-header {
        display: flex;
        align-items: center;
        padding: 0.75rem;
      }



      .instagram-user-info {
        flex: 1;
      }

      .instagram-username {
        font-weight: 600;
        font-size: 0.9rem;
        color: #262626;
      }

      .instagram-handle {
        font-size: 0.8rem;
        color: #8e8e8e;
      }

      .instagram-image-container {
        position: relative;
        width: 100%;
        height: 120px;
        overflow: hidden;
      }

      .instagram-image {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .instagram-actions {
        padding: 0.5rem 0.75rem 0.25rem;
      }

      .instagram-icons {
        display: flex;
        gap: 1rem;
      }

      .instagram-icons i {
        font-size: 1.1rem;
        color: #262626;
      }



      .instagram-caption {
        padding: 0 0.75rem 0.75rem;
        font-size: 0.85rem;
        line-height: 1.3;
      }

      .instagram-username-bold {
        font-weight: 600;
        color: #262626;
        margin-right: 0.25rem;
      }

      .instagram-text {
        color: #262626;
      }

      /* LinkedIn Embed Styles */
      .linkedin-embed-container {
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #f3f2ef;
        padding: 0.5rem;
      }

      .linkedin-post {
        background: white;
        border-radius: 8px;
        width: 100%;
        max-width: 280px;
        box-shadow: 0 1px 3px rgba(0,0,0,0.12);
        overflow: hidden;
      }

      .linkedin-header {
        display: flex;
        align-items: center;
        padding: 0.75rem;
      }



      .linkedin-user-info {
        flex: 1;
      }

      .linkedin-name {
        font-weight: 600;
        font-size: 0.9rem;
        color: #000;
      }

      .linkedin-title {
        font-size: 0.8rem;
        color: #666;
      }

      .linkedin-content {
        padding: 0 0.75rem;
      }

      .linkedin-text {
        font-size: 0.85rem;
        line-height: 1.4;
        color: #000;
        margin-bottom: 0.5rem;
      }

      .linkedin-image {
        width: 100%;
        height: 80px;
        object-fit: cover;
        border-radius: 4px;
        margin-bottom: 0.5rem;
      }

      .linkedin-actions {
        padding: 0.5rem 0.75rem 0.75rem;
        display: flex;
        gap: 1rem;
        font-size: 0.8rem;
        color: #666;
      }

      .linkedin-action {
        display: flex;
        align-items: center;
        gap: 0.25rem;
      }

      /* TikTok Embed Styles */
      .tiktok-embed-container {
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: #000;
        padding: 0.5rem;
      }

      .tiktok-video {
        position: relative;
        width: 100%;
        max-width: 200px;
        height: 90%;
        background: #000;
        border-radius: 12px;
        overflow: hidden;
      }

      .tiktok-video-container {
        position: relative;
        width: 100%;
        height: 70%;
      }

      .tiktok-thumbnail {
        width: 100%;
        height: 100%;
        object-fit: cover;
      }

      .tiktok-play-overlay {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: rgba(0,0,0,0.3);
      }

      .tiktok-play-button {
        background: rgba(255,255,255,0.9);
        width: 40px;
        height: 40px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1rem;
        color: #000;
      }

      .tiktok-info {
        padding: 0.5rem;
        color: white;
      }

      .tiktok-author {
        font-weight: 600;
        font-size: 0.85rem;
        margin-bottom: 0.25rem;
      }

      .tiktok-description {
        font-size: 0.75rem;
        line-height: 1.2;
        margin-bottom: 0.25rem;
      }



      .tiktok-sidebar {
        position: absolute;
        right: 8px;
        bottom: 15%;
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
      }

      .tiktok-icon {
        background: rgba(255,255,255,0.2);
        width: 30px;
        height: 35px;
        border-radius: 15px;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        color: white;
        font-size: 0.6rem;
        text-align: center;
        line-height: 1;
      }



      /* Marketing Results Styles */
      .marketing-result-container {
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        padding: 0.5rem;
      }

      .marketing-result-card {
        background: white;
        border-radius: 8px;
        padding: 1rem;
        width: 100%;
        max-width: 260px;
        text-align: center;
      }

      .marketing-header {
        color: #667eea;
        margin-bottom: 1rem;
      }

      .marketing-header h4 {
        margin: 0.5rem 0 0 0;
        font-size: 1rem;
      }

      .marketing-metrics {
        display: flex;
        flex-direction: column;
        gap: 0.5rem;
      }

      .metric-item {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 0.25rem 0;
        border-bottom: 1px solid #eee;
      }

      .metric-item:last-child {
        border-bottom: none;
      }

      .metric-label {
        font-size: 0.8rem;
        color: #666;
      }

      .metric-value {
        font-weight: 600;
        color: #333;
        font-size: 0.9rem;
      }

      /* Generic Link Styles */
      .generic-link-preview {
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
      }

      .link-icon {
        margin-bottom: 1rem;
        opacity: 0.9;
      }

      .link-domain {
        font-size: 0.9rem;
        font-weight: 600;
        text-align: center;
      }



      .modal-instagram-container {
        background: #fafafa;
      }

      .modal-linkedin-container {
        background: #f3f2ef;
      }

      .modal-tiktok-container {
        background: #000;
      }

      .modal-marketing-container {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      }

      .modal-size {
        max-width: 400px;
        width: 100%;
      }

      .modal-size .instagram-image-container,
      .modal-size .tiktok-video-container {
        height: 300px;
      }

      .modal-size .linkedin-image {
        height: 200px;
      }

      .modal-size .tiktok-video {
        height: 400px;
        max-width: 250px;
      }

      .modal-size .instagram-caption .instagram-text,
      .modal-size .tiktok-description {
        display: block;
        overflow: visible;
        white-space: normal;
      }

      .modal-generic-preview {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 3rem 2rem;
        border-radius: 10px;
        margin-bottom: 1.5rem;
      }

      .modal-link-icon {
        margin-bottom: 1.5rem;
        opacity: 0.9;
      }

      .modal-link-domain {
        font-size: 1.2rem;
        font-weight: 600;
        margin-bottom: 1rem;
      }

      .modal-preview-note {
        font-size: 0.9rem;
        opacity: 0.8;
      }

      .modal-link-info {
        color: #667eea;
        font-size: 0.9rem;
        margin: 1rem 0;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.5rem;
      }
      
      .client-results {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        color: white;
        padding: 3rem;
        border-radius: 15px;
        text-align: center;
      }
      
      .results-title {
        font-size: 2rem;
        margin-bottom: 1.5rem;
      }
      
      .results-text {
        font-size: 1.1rem;
        margin-bottom: 2rem;
        line-height: 1.6;
      }
      
      .testimonial {
        background: rgba(255, 255, 255, 0.1);
        padding: 2rem;
        border-radius: 10px;
        margin-top: 2rem;
      }
      
      .testimonial-text {
        font-size: 1.2rem;
        font-style: italic;
        margin-bottom: 1rem;
        line-height: 1.6;
      }
      
      .testimonial-author {
        font-weight: bold;
        font-size: 1rem;
      }

      

      

      
      /* Responsive Design */
      @media (max-width: 768px) {
        .client-header-wrapper {
          grid-template-columns: 1fr;
          gap: 2rem;
        }

        .client-header-main {
          min-height: auto;
        }
        
        .client-logo-section {
          text-align: center;
        }
        
        .client-logo-large,
        .client-placeholder-large {
          margin: 0 auto 2rem;
        }
        
        .client-grid-picture {
          width: 200px;
          height: 432px;
          margin: 0 auto;
        }
        
        .client-meta {
          flex-direction: column;
          gap: 1rem;
        }

        .portfolio-carousel-container {
          max-width: 100%;
          overflow: hidden;
        }

        .portfolio-carousel {
          padding-left: 0;
          padding-right: 0;
          margin-left: 0;
          margin-right: 0;
          padding-bottom: 50px;
          margin-bottom: -50px;
        }
        
        .portfolio-item {
          flex: 0 0 calc(100vw - 3rem);
          width: calc(100vw - 3rem);
          min-height: 480px;
        }
        
        .portfolio-item.expanded {
          min-height: auto;
        }
        
        .portfolio-track {
          gap: 1rem;
          padding-left: 1.5rem;
        }
        
        .carousel-controls {
          max-width: 100%;
          padding: 0 1rem;
        }
        
        .carousel-indicators {
          margin: 0 0.5rem;
        }
        
        .carousel-btn {
          width: 40px;
          height: 40px;
          font-size: 1rem;
        }
        
        .modal-content {
          margin: 10% auto;
          width: 95%;
          padding: 1.5rem;
        }
        
        .client-name {
          font-size: 2rem;
        }
      }
    </style>

    <script type="module">
      import { getClientById } from "./data/clients.js";

      // Define the render function first
      function renderClientDetail(client) {
        console.log('Rendering client detail for:', client.name);
        
        // Render client header
        const headerContainer = document.getElementById('client-header');
        if (!headerContainer) {
          console.error('Header container not found!');
          return;
        }
        
        const logoHtml = client.logo 
          ? `<div class="client-logo-large"><img src="${client.logo}" alt="${client.name} logo" /></div>`
          : `<div class="client-placeholder-large">${client.name.charAt(0)}</div>`;
        
        const gridPictureHtml = client.gridPicture 
          ? `<div class="client-grid-picture"><img src="${client.gridPicture}" alt="${client.name} showcase" /></div>`
          : '';
        
        headerContainer.innerHTML = `
          <div class="client-header-wrapper">
            <div class="client-header-main">
              <div class="client-header-content">
                <div class="client-logo-section">
                  ${logoHtml}
                  <h1 class="client-name">${client.name}</h1>
                  <p class="client-description">${client.description}</p>
                </div>
              </div>
              <div class="client-meta">
                <div class="meta-item">
                  <span class="meta-label">Duration</span>
                  <span class="meta-value">${client.duration}</span>
                </div>
                <div class="meta-item">
                  <span class="meta-label">Services</span>
                  <span class="meta-value">${client.services.length} services</span>
                </div>
              </div>
              <div class="services-list">
                ${client.services.map(service => `<span class="service-badge">${service}</span>`).join('')}
              </div>
            </div>
            ${gridPictureHtml}
          </div>
        `;
        
        // Render portfolio carousel
        const portfolioTrack = document.getElementById('portfolio-track');
        if (portfolioTrack) {
          console.log('Rendering portfolio items:', client.portfolio.length);
          client.portfolio.forEach((item, index) => {
            console.log(`Item ${index}:`, item.type, item.title);
          });
          
          const portfolioHTML = client.portfolio.map((item, index) => {
            if (item.type === 'social-media') {
              let embedContent = '';
              
              if (item.platform === 'instagram') {
                embedContent = `
                  <div class="instagram-embed-container">
                    <div class="instagram-post">
                      <div class="instagram-header">
                        <div class="instagram-user-info">
                          <div class="instagram-username">${item.authorName}</div>
                          <div class="instagram-handle">${item.authorUsername}</div>
                        </div>
                      </div>
                      <div class="instagram-image-container">
                        <img src="${item.previewImage}" alt="Post image" class="instagram-image" />
                      </div>
                      <div class="instagram-actions">
                        <div class="instagram-icons">
                          <i class="fa fa-heart-o"></i>
                          <i class="fa fa-comment-o"></i>
                          <i class="fa fa-paper-plane-o"></i>
                        </div>
                      </div>
                      <div class="instagram-caption">
                        <span class="instagram-username-bold">${item.authorUsername}</span>
                        <span class="instagram-text">${item.postText.substring(0, 80)}...</span>
                      </div>
                    </div>
                  </div>
                `;
              } else if (item.platform === 'linkedin') {
                embedContent = `
                  <div class="linkedin-embed-container">
                    <div class="linkedin-post">
                      <div class="linkedin-header">
                        <div class="linkedin-user-info">
                          <div class="linkedin-name">${item.authorName}</div>
                          <div class="linkedin-title">${item.authorTitle}</div>
                        </div>
                      </div>
                      <div class="linkedin-content">
                        <p class="linkedin-text">${item.postText}</p>
                        ${item.previewImage ? `<img src="${item.previewImage}" alt="Post image" class="linkedin-image" />` : ''}
                      </div>
                      <div class="linkedin-actions">
                        <span class="linkedin-action">üëç Like</span>
                        <span class="linkedin-action">üí¨ Comment</span>
                      </div>
                    </div>
                  </div>
                `;
              } else if (item.platform === 'tiktok') {
                embedContent = `
                  <div class="tiktok-embed-container">
                    <div class="tiktok-video">
                      <div class="tiktok-video-container">
                        <img src="${item.previewImage}" alt="TikTok video thumbnail" class="tiktok-thumbnail" />
                        <div class="tiktok-play-overlay">
                          <div class="tiktok-play-button">
                            <i class="fa fa-play"></i>
                          </div>
                        </div>
                      </div>
                      <div class="tiktok-info">
                        <div class="tiktok-author">${item.authorUsername}</div>
                        <div class="tiktok-description">${item.postText.substring(0, 60)}...</div>
                      </div>
                      <div class="tiktok-sidebar">
                        <div class="tiktok-icon">‚ù§Ô∏è</div>
                        <div class="tiktok-icon">üí¨</div>
                        <div class="tiktok-icon">üì§</div>
                      </div>
                    </div>
                  </div>
                `;
              } else if (item.type === 'marketing-result') {
                // Marketing results display
                const metricsHtml = Object.entries(item.metrics).map(([key, value]) => 
                  `<div class="metric-item"><span class="metric-label">${key}:</span><span class="metric-value">${value}</span></div>`
                ).join('');
                
                embedContent = `
                  <div class="marketing-result-container">
                    <div class="marketing-result-card">
                      <div class="marketing-header">
                        <i class="fa fa-bar-chart fa-2x"></i>
                        <h4>Campaign Results</h4>
                      </div>
                      <div class="marketing-metrics">
                        ${metricsHtml}
                      </div>
                    </div>
                  </div>
                `;
              } else {
                // Fallback for other links
                embedContent = `
                  <div class="generic-link-preview">
                    <div class="link-icon">
                      <i class="fa fa-external-link fa-2x"></i>
                    </div>
                    <div class="link-domain">${hostname || 'External Link'}</div>
                  </div>
                `;
              }
              
              const linkUrl = item.link || '#';
              const linkTarget = item.link ? 'target="_blank" rel="noopener noreferrer"' : '';
              
              return `
                <a href="${linkUrl}" ${linkTarget} class="portfolio-item-link">
                  <div class="portfolio-item">
                    <div class="portfolio-preview">
                      ${embedContent}
                      <div class="preview-overlay">
                        <i class="fa fa-external-link"></i>
                      </div>
                    </div>
                    <div class="portfolio-info">
                      <h4 class="portfolio-title">${item.title}</h4>
                      <p class="portfolio-description" data-full-text="${item.description.replace(/"/g, '&quot;')}">${item.description}</p>
                      <button class="expand-text-btn" aria-label="Expand text">Read more ‚ñº</button>
                      <button class="collapse-text-btn" aria-label="Collapse text">‚ñ≤</button>
                    </div>
                  </div>
                </a>
              `;
            } else {
              const linkUrl = item.link || '#';
              const linkTarget = item.link ? 'target="_blank" rel="noopener noreferrer"' : '';
              
              return `
                <a href="${linkUrl}" ${linkTarget} class="portfolio-item-link">
                  <div class="portfolio-item">
                    <div class="portfolio-image">
                      <img src="${item.src}" alt="${item.title}" />
                    </div>
                    <div class="portfolio-info">
                      <h4 class="portfolio-title">${item.title}</h4>
                      <p class="portfolio-description" data-full-text="${item.description.replace(/"/g, '&quot;')}">${item.description}</p>
                      <button class="expand-text-btn" aria-label="Expand text">Read more ‚ñº</button>
                      <button class="collapse-text-btn" aria-label="Collapse text">‚ñ≤</button>
                    </div>
                  </div>
                </a>
              `;
            }
          }).join('');
          
          console.log('Generated HTML length:', portfolioHTML.length);
          portfolioTrack.innerHTML = portfolioHTML;
          console.log('Portfolio track innerHTML set, children count:', portfolioTrack.children.length);
          
          // Add expand/collapse functionality to text
          setTimeout(() => {
            const portfolioItems = portfolioTrack.querySelectorAll('.portfolio-item');
            portfolioItems.forEach((item) => {
              const expandBtn = item.querySelector('.expand-text-btn');
              const collapseBtn = item.querySelector('.collapse-text-btn');
              const description = item.querySelector('.portfolio-description');
              
              // Check if text is actually truncated
              const isTruncated = description.scrollHeight > description.clientHeight + 5;
              
              if (!isTruncated) {
                // Hide expand button if text fits
                expandBtn.style.display = 'none';
              }
              
              // Expand button functionality
              expandBtn.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();
                item.classList.add('expanded');
              });
              
              // Collapse button functionality
              collapseBtn.addEventListener('click', (e) => {
                e.preventDefault();
                e.stopPropagation();
                item.classList.remove('expanded');
              });
              
              // Prevent link navigation when clicking on info section of expanded items
              const portfolioInfo = item.querySelector('.portfolio-info');
              portfolioInfo.addEventListener('click', (e) => {
                if (item.classList.contains('expanded')) {
                  e.preventDefault();
                  e.stopPropagation();
                }
              });
            });
          }, 100);
          
          // Initialize carousel
          initPortfolioCarousel(client.portfolio.length);
        }
        
        // Render results and testimonial
        const resultsContainer = document.getElementById('client-results');
        if (resultsContainer) {
          const testimonialHtml = client.testimonial ? `
            <div class="testimonial">
              <p class="testimonial-text">"${client.testimonial.text}"</p>
              <p class="testimonial-author">‚Äî ${client.testimonial.author}</p>
            </div>
          ` : '';
          
          resultsContainer.innerHTML = `
            <h3 class="results-title">Results & Impact</h3>
            <p class="results-text">${client.results}</p>
            ${testimonialHtml}
          `;
        }
        
        // Store client data for modal
        window.currentClient = client;
      }
      
      // Portfolio carousel functionality
      function initPortfolioCarousel(totalItems) {
        if (totalItems <= 3) {
          // Hide controls if 3 or fewer items
          document.querySelector('.carousel-controls').style.display = 'none';
          return;
        }
        
        let currentIndex = 0;
        const track = document.getElementById('portfolio-track');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const indicatorsContainer = document.getElementById('carousel-indicators');
        
        // Create indicators - one for each item for single-item scrolling
        const isMobile = window.innerWidth <= 768;
        const maxVisibleSlides = isMobile ? totalItems : Math.max(1, totalItems - 2);
        
        indicatorsContainer.innerHTML = '';
        for (let i = 0; i < maxVisibleSlides; i++) {
          const indicator = document.createElement('div');
          indicator.className = `indicator ${i === 0 ? 'active' : ''}`;
          indicator.addEventListener('click', () => goToSlide(i));
          indicatorsContainer.appendChild(indicator);
        }
        
        function updateCarousel() {
          // Calculate item width and gap based on screen size
          const isMobile = window.innerWidth <= 768;
          
          // On mobile: full viewport width minus padding
          // On desktop: fixed 400px + 24px gap
          const itemWidth = isMobile 
            ? window.innerWidth - 48 + 16 // calc(100vw - 3rem) + 1rem gap
            : 400 + 24; // item + gap
            
          // Move by one item at a time
          const moveDistance = currentIndex * itemWidth;
          track.style.transform = `translateX(-${moveDistance}px)`;
          
          // Update indicators (circular)
          document.querySelectorAll('.indicator').forEach((indicator, index) => {
            indicator.classList.toggle('active', index === currentIndex);
          });
          
          // Buttons are always enabled for circular carousel
          prevBtn.disabled = false;
          nextBtn.disabled = false;
        }
        
        function goToSlide(index) {
          currentIndex = index;
          updateCarousel();
        }
        
        function nextSlide() {
          const isMobile = window.innerWidth <= 768;
          const maxIndex = isMobile ? totalItems - 1 : Math.max(0, totalItems - 3);
          currentIndex = (currentIndex + 1) % (maxIndex + 1);
          updateCarousel();
        }
        
        function prevSlide() {
          const isMobile = window.innerWidth <= 768;
          const maxIndex = isMobile ? totalItems - 1 : Math.max(0, totalItems - 3);
          currentIndex = (currentIndex - 1 + (maxIndex + 1)) % (maxIndex + 1);
          updateCarousel();
        }
        
        // Event listeners
        nextBtn.addEventListener('click', nextSlide);
        prevBtn.addEventListener('click', prevSlide);
        
        // Auto-advance every 4 seconds (circular)
        let autoAdvanceInterval;
        
        function startAutoAdvance() {
          clearInterval(autoAdvanceInterval);
          autoAdvanceInterval = setInterval(() => {
            nextSlide();
          }, 4000);
        }
        
        function stopAutoAdvance() {
          clearInterval(autoAdvanceInterval);
        }
        
        // Start auto-advance initially
        startAutoAdvance();
        
        // Pause auto-advance on hover
        const carousel = document.querySelector('.portfolio-carousel-container');
        carousel.addEventListener('mouseenter', () => {
          stopAutoAdvance();
        });
        
        carousel.addEventListener('mouseleave', () => {
          startAutoAdvance();
        });
        
        // Also pause when hovering individual portfolio items
        const portfolioItems = document.querySelectorAll('.portfolio-item');
        portfolioItems.forEach(item => {
          item.addEventListener('mouseenter', () => {
            stopAutoAdvance();
          });
          
          item.addEventListener('mouseleave', () => {
            // Only restart if not hovering over carousel container
            const carouselHovered = carousel.matches(':hover');
            if (carouselHovered) {
              stopAutoAdvance();
            } else {
              startAutoAdvance();
            }
          });
        });
        
        // Enhanced touch/swipe support for mobile and desktop
        let startX = 0;
        let startY = 0;
        let isDragging = false;
        let isRightClick = false;
        
        // Enhanced touch events (including two-finger swipe)
        let touchStartFingers = 0;
        
        carousel.addEventListener('touchstart', (e) => {
          touchStartFingers = e.touches.length;
          if (e.touches.length === 1 || e.touches.length === 2) {
            startX = e.touches[0].clientX;
            startY = e.touches[0].clientY;
            stopAutoAdvance(); // Pause during interaction
          }
        });
        
        carousel.addEventListener('touchmove', (e) => {
          if (e.touches.length === 2 || touchStartFingers === 2) {
            // Two-finger swipe - prevent default scrolling
            e.preventDefault();
          }
        });
        
        carousel.addEventListener('touchend', (e) => {
          if (!startX || !startY) {
            // Resume auto-advance if no valid gesture
            startAutoAdvance();
            return;
          }
          
          const endX = e.changedTouches[0].clientX;
          const endY = e.changedTouches[0].clientY;
          
          const diffX = startX - endX;
          const diffY = startY - endY;
          
          // Handle both single and two-finger swipes
          const minSwipeDistance = touchStartFingers === 2 ? 25 : 50;
          
          // Only handle horizontal swipes (more tolerance for two-finger)
          const verticalTolerance = touchStartFingers === 2 ? Math.abs(diffY) * 1.5 : Math.abs(diffY);
          
          if (Math.abs(diffX) > verticalTolerance) {
            if (Math.abs(diffX) > minSwipeDistance) {
              if (diffX > 0) {
                nextSlide(); // Swipe left = next
              } else {
                prevSlide(); // Swipe right = previous
              }
            }
          }
          
          startX = 0;
          startY = 0;
          touchStartFingers = 0;
          
          // Resume auto-advance
          startAutoAdvance();
        });
        
        // Handle touch cancel
        carousel.addEventListener('touchcancel', (e) => {
          startX = 0;
          startY = 0;
          touchStartFingers = 0;
          
          // Resume auto-advance
          startAutoAdvance();
        });
        
        // Enhanced click and drag support (any mouse button)
        let dragStartX = 0;
        let currentTranslateX = 0;
        let initialTranslateX = 0;
        
        carousel.addEventListener('mousedown', (e) => {
          // Don't start drag if clicking on controls or buttons
          if (e.target.closest('.carousel-btn') || 
              e.target.closest('.carousel-indicators') ||
              e.target.closest('.expand-text-btn') ||
              e.target.closest('.collapse-text-btn')) {
            return;
          }
          
          e.preventDefault();
          isDragging = true;
          isRightClick = e.button === 2;
          dragStartX = e.clientX;
          
          // Get current transform value
          const transform = track.style.transform;
          const translateMatch = transform.match(/translateX\((-?\d+(?:\.\d+)?)px\)/);
          initialTranslateX = translateMatch ? parseFloat(translateMatch[1]) : 0;
          currentTranslateX = initialTranslateX;
          
          stopAutoAdvance();
          carousel.style.cursor = 'grabbing';
          carousel.style.userSelect = 'none';
        });
        
        carousel.addEventListener('mousemove', (e) => {
          if (isDragging) {
            e.preventDefault();
            
            const currentX = e.clientX;
            const diffX = currentX - dragStartX;
            currentTranslateX = initialTranslateX + diffX;
            
            // Apply the drag transform with some resistance at boundaries
            const isMobile = window.innerWidth <= 768;
            const itemWidth = isMobile ? 350 + 16 : 400 + 24;
            const maxIndex = isMobile ? totalItems - 1 : Math.max(0, totalItems - 3);
            const minTranslate = -(maxIndex * itemWidth);
            const maxTranslate = 0;
            
            // Add resistance at boundaries
            if (currentTranslateX > maxTranslate) {
              currentTranslateX = maxTranslate + (currentTranslateX - maxTranslate) * 0.3;
            } else if (currentTranslateX < minTranslate) {
              currentTranslateX = minTranslate + (currentTranslateX - minTranslate) * 0.3;
            }
            
            track.style.transform = `translateX(${currentTranslateX}px)`;
          }
        });
        
        carousel.addEventListener('mouseup', (e) => {
          if (isDragging) {
            e.preventDefault();
            
            const endX = e.clientX;
            const totalDragDistance = endX - dragStartX;
            const isMobile = window.innerWidth <= 768;
            const itemWidth = isMobile ? 350 + 16 : 400 + 24;
            
            // Calculate which slide to snap to based on drag distance
            const slidesMoved = Math.round(-totalDragDistance / itemWidth);
            const maxIndex = isMobile ? totalItems - 1 : Math.max(0, totalItems - 3);
            
            // Update current index based on drag
            let newIndex = currentIndex + slidesMoved;
            
            // Handle circular wrapping
            if (newIndex > maxIndex) {
              newIndex = newIndex % (maxIndex + 1);
            } else if (newIndex < 0) {
              newIndex = (newIndex % (maxIndex + 1)) + (maxIndex + 1);
            }
            
            currentIndex = newIndex;
            
            isDragging = false;
            isRightClick = false;
            carousel.style.cursor = '';
            carousel.style.userSelect = '';
            
            // Snap to the final position
            updateCarousel();
            
            // Resume auto-advance
            startAutoAdvance();
          }
        });
        
        // Handle mouse leave during drag
        carousel.addEventListener('mouseleave', () => {
          if (isDragging) {
            // Snap to current position
            updateCarousel();
            
            isDragging = false;
            isRightClick = false;
            carousel.style.cursor = '';
            carousel.style.userSelect = '';
            
            // Resume auto-advance
            startAutoAdvance();
          }
        });
        
        // Disable context menu on right click
        carousel.addEventListener('contextmenu', (e) => {
          e.preventDefault();
        });
        
        // Disable drag on images to prevent conflict
        carousel.addEventListener('dragstart', (e) => {
          e.preventDefault();
        });
        
        // Initial update
        updateCarousel();
      }

      // Load client data and render
      function loadClient() {
        // Get client ID from URL parameter
        const urlParams = new URLSearchParams(window.location.search);
        const clientId = urlParams.get('client');
        
        if (!clientId) {
          console.log('No client ID provided, redirecting...');
          setTimeout(() => window.location.href = 'socialmediagallery.html', 1000);
          return;
        }
        
        const client = getClientById(clientId);
        
        if (client) {
          renderClientDetail(client);
        } else {
          console.log('Client not found with ID:', clientId);
          setTimeout(() => window.location.href = 'socialmediagallery.html', 1000);
        }
      }

      // Wait for DOM to be ready
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', loadClient);
      } else {
        loadClient();
      }
    </script>
  </body>
</html>
    </script>
  </body>
</html>